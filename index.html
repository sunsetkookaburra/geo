<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
  <button id="locate">üìå</button>
  <label>‚åö <output id="time"></output></label>
  <label>üåè <output id="latlon"></output></label>
  <label>‚õ∞Ô∏è <output id="altitude"></output></label>
  <label>‚è© <output id="speed"></output></label>
  <output id="out"></output>
  <script>
    var btn = document.getElementById("locate");
    var out = document.getElementById("out");

    var elTime = document.getElementById("time");
    var elLatLon = document.getElementById("latlon");
    var elAltitude = document.getElementById("altitude");
    var elSpeed = document.getElementById("speed");

    btn.onclick = function click() {
      elTime.hidden = true;
      elLatLon.hidden = true;
      elAltitude.hidden = true;
      elSpeed.hidden = true;

      navigator.geolocation.getCurrentPosition(
        function success(v) {
          var coords = v.coords;
          if (v.timestamp != null) {
            elDate.hidden = false;
            elDate.textContent = new Date(v.timestamp).toLocaleString();
          }
          if (coords.latitude != null && coords.longitude != null) {
            elLatLon.hidden = false;
            elLatLon.textContent = "" + coords.latitude + ", " + coords.longitude;
            if (coords.accuracy != null) {
              elLatLon.textContent += " +/- " + coords.accuracy + "m";
            }
          }
          if (coords.altitude != null) {
            elAltitude.hidden = false;
            elAltitude.textContent = "" + coords.altitude + "m";
            if (coords.altitude.accuracy != null) {
              elAltitude.textContent += " +/- " + coords.altitude.accuracy + "m";
            }
          }
          if (coords.speed != null) {
            elSpeed.hidden = false;
            elSpeed.textContent = "" + coords.speed + "m/s";
          }
        },
        function error(e) {
          out.textContent = "Err: " + e.message;
        },
        {
          enableHighAccuracy: true
        }
      );
    };
  </script>
</body>
</html>
